@import "tailwindcss";

/* 1. ATIVAÇÃO DO DARK MODE POR CLASSE (Tailwind v4) */
@variant dark (&:where(.dark, .dark *));

/* 2. TRANSIÇÃO SUAVE PARA TODOS OS ELEMENTOS */
@layer base {
  *, ::after, ::before {
    transition-property: background-color, border-color, color, fill, stroke, box-shadow;
    transition-duration: 300ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* 3. EFEITO CORTINA (View Transitions) */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  display: block;
  position: fixed;
  inset: 0;
}

/* O tema novo entra como uma cortina da esquerda para a direita */
::view-transition-new(root) {
  z-index: 9999;
  animation: curtain-reveal 700ms cubic-bezier(0.5, 0, 0.1, 1) both;
}

::view-transition-old(root) {
  z-index: 1;
}

/* ANIMAÇÃO DA CORTINA */
@keyframes curtain-reveal {
  from {
    /* Cortina totalmente escondida à esquerda */
    clip-path: inset(0 100% 0 0);
  }
  to {
    /* Cortina cobre a tela toda */
    clip-path: inset(0 0 0 0);
  }
}

/* OPCIONAL: Se quiser que venha de CIMA para BAIXO, use este keyframe:
@keyframes curtain-reveal {
  from { clip-path: inset(0 0 100% 0); }
  to { clip-path: inset(0 0 0 0); }
}
*/